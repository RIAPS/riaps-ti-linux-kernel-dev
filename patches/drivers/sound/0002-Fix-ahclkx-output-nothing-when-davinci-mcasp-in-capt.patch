From 84ba2a4e9bc2288956c08a4fee4f44517f420faa Mon Sep 17 00:00:00 2001
From: Peter Yang <turmary@126.com>
Date: Mon, 15 Jul 2019 08:32:01 +0000
Subject: [PATCH 2/2] Fix: ahclkx output nothing when davinci-mcasp in capture
 mode only

---
 sound/soc/ti/davinci-mcasp.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/sound/soc/ti/davinci-mcasp.c b/sound/soc/ti/davinci-mcasp.c
index 0f6a028ca199..0c9006e74c95 100644
--- a/sound/soc/ti/davinci-mcasp.c
+++ b/sound/soc/ti/davinci-mcasp.c
@@ -228,6 +228,7 @@ static void mcasp_start_rx(struct davinci_mcasp *mcasp)
 	if (mcasp_is_synchronous(mcasp)) {
 		mcasp_set_ctl_reg(mcasp, DAVINCI_MCASP_GBLCTLX_REG, TXHCLKRST);
 		mcasp_set_ctl_reg(mcasp, DAVINCI_MCASP_GBLCTLX_REG, TXCLKRST);
+		mcasp_set_clk_pdir(mcasp, true);
 	}
 
 	/* Activate serializer(s) */
-- 
2.20.1

