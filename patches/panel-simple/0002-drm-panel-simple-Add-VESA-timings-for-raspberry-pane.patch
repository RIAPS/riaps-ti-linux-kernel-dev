From f097cca99128c7164215d899361b651c4f1c7945 Mon Sep 17 00:00:00 2001
From: Rahul T R <r-ravikumar@ti.com>
Date: Wed, 23 Mar 2022 15:28:27 +0530
Subject: [PATCH 2/3] drm/panel-simple: Add VESA timings for raspberry panel

Update VESA standard timings for RPi panel

Signed-off-by: Rahul T R <r-ravikumar@ti.com>
---
 drivers/gpu/drm/panel/panel-simple.c | 25 ++++++++++++++++++-------
 1 file changed, 18 insertions(+), 7 deletions(-)

diff --git a/drivers/gpu/drm/panel/panel-simple.c b/drivers/gpu/drm/panel/panel-simple.c
index 361e9a956098..cae3f9078b5c 100644
--- a/drivers/gpu/drm/panel/panel-simple.c
+++ b/drivers/gpu/drm/panel/panel-simple.c
@@ -3189,15 +3189,26 @@ static const struct panel_desc qd43003c0_40 = {
 };
 
 static const struct drm_display_mode raspberrypi_7inch_mode = {
-	.clock = 25979400 / 1000,
+	.clock = 28569600 / 1000,
 	.hdisplay = 800,
-	.hsync_start = 800 + 2,
-	.hsync_end = 800 + 2 + 2,
-	.htotal = 800 + 2 + 2 + 46,
+	.hsync_start = 800 + 48, //848
+	.hsync_end = 800 + 48 + 32, //880
+	.htotal = 800 + 48 + 32 + 80, //960
 	.vdisplay = 480,
-	.vsync_start = 480 + 7,
-	.vsync_end = 480 + 7 + 2,
-	.vtotal = 480 + 7 + 2 + 21,
+	.vsync_start = 480 + 3, //487
+	.vsync_end = 480 + 3 + 7, //450
+	.vtotal = 480 + 3 + 7 + 6, //496
+
+	.crtc_clock = 28569600 / 1000,
+	.crtc_hdisplay = 800,
+	.crtc_hsync_start = 800 + 48, //848
+	.crtc_hsync_end = 800 + 48 + 32, //880
+	.crtc_htotal = 800 + 48 + 32 + 80, //960
+	.crtc_vdisplay = 480,
+	.crtc_vsync_start = 480 + 3, //487
+	.crtc_vsync_end = 480 + 3 + 7, //450
+	.crtc_vtotal = 480 + 3 + 7 + 6, //496
+
 	.flags = DRM_MODE_FLAG_NVSYNC | DRM_MODE_FLAG_NHSYNC,
 };
 
-- 
2.30.2

